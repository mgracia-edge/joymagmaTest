(function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(exports,'__esModule',{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&'object'==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,'default',{enumerable:!0,value:value}),2&mode&&'string'!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default']}:function(){return module};return __webpack_require__.d(getter,'a',getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p='',__webpack_require__(__webpack_require__.s=0)})([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(3),__webpack_require__(4),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(8),module.exports=__webpack_require__(9)},function(){(function(){angular.module('NxStudio',['ngMaterial','ngMessages','ngRoute']).config(function($routeProvider,$locationProvider){$routeProvider.when('/',{templateUrl:'/res/layout/view_home.html',controller:'HomeCtrl'}).when('/login',{templateUrl:'/res/layout/view_login.html',controller:'LoginCtrl'}).when('/s/ott/channel',{templateUrl:'/res/layout/view_s_ott_channel.html',controller:'sOttChannelCtrl'}).when('/s/user-profile',{templateUrl:'/res/layout/view_s_user_profile.html',controller:'sUserProfileCtrl'}),$locationProvider.html5Mode(!0)}).run(['$rootScope','$location','$window','$NxNav',function($rootScope,$location,$window,$NxNav){$rootScope.$on('$routeChangeSuccess',function(){'/login'==$location.path()?$NxNav.hide():$NxNav.show()})}])})()},function(){(function(){angular.module('NxStudio').factory('$NxApi',['$http','$q','$NxNav',function($http,$q,$NxNav){function getURI(path){return HOST+path}function getAccount(id){return $q((success,reject)=>{$http.post(getURI(GET_ACCOUNT),{id:id},{headers:{Authorization:'Bearer '+session.token}}).then(response=>{null===response.data.error?success(response.data.content):reject(response.data.error)}).catch(error=>{reject(error)})})}const HOST='',GET_ACCOUNT='/api/1.0/account/get';let session={user:null,token:null};return function(){localStorage.getItem('token')&&(session.token=localStorage.getItem('token'))}(),{login:function(email,password){return $q((success,reject)=>{function preSuccess(response){session.user=response.content.user,session.data=response.content.session,localStorage.setItem('token',session.data.token);let account=null;getAccount(response.content.user.account).then(data=>{account=data}).catch(()=>{}).finally(()=>{$NxNav.loadRootLevel(session.user,account),success(response.content.user)})}void 0===email?session.token?$http.post(getURI('/api/1.0/user/check-session'),{},{headers:{Authorization:'Bearer '+session.token}}).then(response=>{preSuccess(response.data)}).catch(error=>{reject(error)}):reject(new Error('Session data not hosted')):$http.post(getURI('/api/1.0/user/login'),{email:email,password:password}).then(response=>{preSuccess(response.data)}).catch(error=>{reject(error)})})},getUser:function(){return session.user},getAccount:getAccount}}])})()},function(){(function(){angular.module('NxStudio').factory('$NxNav',['$http','$q',function(){let mainBar={hidden:!0},navPanel={hidden:!0};return{hide:function(){mainBar.hidden=!0,navPanel.hidden=!0},show:function(){mainBar.hidden=!1,navPanel.hidden=!1},mainBar:mainBar,navPanel:navPanel,loadRootLevel:function(user,account){navPanel.currentAccount=account,navPanel.currentMap=[{name:'Assets (PC)',items:[{iconURL:'/res/drawable/ic_live_alt.svg',name:'Live Feeds',path:'/s/ott/channel'},{iconURL:'/res/drawable/ic_vod.svg',name:'On Demand',path:'/s/n/a'}]},{name:'OTT',items:[{iconURL:'/res/drawable/ic_show.svg',name:'Channels',path:'/s/ott/channel'},{iconURL:'/res/drawable/ic_channel.svg',name:'Package',path:'/s/ott/products'},{iconURL:'/res/drawable/ic_ott_project.svg',name:'Config',path:'/s/ott/settings'}]},{name:'Account',items:[{iconURL:'/res/drawable/ic_settings.svg',name:'Settings',path:'/s/account/settings'}]}]}}}])})()},function(){(function(){angular.module('NxStudio').controller('HomeCtrl',['$scope','$interval',function(){}])})()},function(){(function(){angular.module('NxStudio').controller('LoginCtrl',['$scope','$NxApi','$NxNav','$location','$mdToast',function($scope,$NxApi,$NxNav,$location,$mdToast){function checkLogin(){''===$scope.loginData.email||''===$scope.loginData.password?toast('Please complete all your login information'):$NxApi.login($scope.loginData.email,$scope.loginData.password).then(()=>{$location.path('/')}).catch(()=>{toast('Invalid email or password. Pleas, check your login information.')})}function toast(msg){$mdToast.show($mdToast.simple().textContent(msg).hideDelay(5e3)).then(function(){}).catch(function(){})}$scope.keyPress=function($event){'Enter'===$event.code&&checkLogin()},$scope.checkLogin=checkLogin,function(){}()}])})()},function(){(function(){angular.module('NxStudio').controller('MainCtrl',['$scope','$NxApi','$NxNav','$location',function($scope,$NxApi,$NxNav,$location){$scope.navPanel=$NxNav.navPanel,$scope.mainBar=$NxNav.mainBar,$scope.userPicture=function(){const user=$NxApi.getUser();return user&&user.photo.url?user.photo.url:'/res/drawable/ph_user.jpg'},$scope.userName=function(){const user=$NxApi.getUser();return user?user.firstName+' '+user.lastName:'...'},$scope.navAction=function(item){$location.path(item.path)},$scope.currentAccount=function(){return $NxNav.navPanel.currentAccount},$scope.logOut=function(){localStorage.clear(),window.location='/login'},$scope.accessProfile=function(){$location.path('/s/user-profile')},function(){$NxApi.login().then(()=>{'/login'===$location.path()&&$location.path('/')}).catch(e=>{console.log(2,e),$location.path('/login')})}()}])})()},function(){(function(){angular.module('NxStudio').controller('sOttChannelCtrl',['$scope','$interval',function($scope,$interval){function channel(name){var _Mathround=Math.round;const publishing=!!(.75>Math.random()),online=!!(.75>Math.random());let c=[];for(let i=0;15>i;i++)c.push({timestamp:Date.now()+1000,concurrency:_Mathround(10+10*Math.random()+10*Math.random()),users:_Mathround(1e3*Math.random())});return{logo:'https://is5-ssl.mzstatic.com/image/thumb/Purple118/v4/e0/4d/be/e04dbe0a-748d-ba79-bae0-1c0b23c937a5/source/512x512bb.jpg',stats:online&&publishing?c:[],name:name,online:online,publishing:publishing}}$scope.channels=[];for(let i=0;50>i;i++)$scope.channels.push(channel('Vivo '+i))}])})()},function(){(function(){angular.module('NxStudio').controller('sUserProfileCtrl',['$scope',function(){}])})()},function(){(function(){function link(scope,element){scope.channel=scope.item;let chart_data=[],char_labels=[];for(let i in scope.channel.stats)chart_data.push(scope.channel.stats[i].concurrency),char_labels.push(scope.channel.stats[i].timestamp);let ctx=element[0].getElementsByTagName('canvas')[0];ctx.height=100;new Chart(ctx,{type:'bar',data:{labels:char_labels,datasets:[{label:'Concurrency',data:chart_data,fill:!0,backgroundColor:'#42516E',borderWidth:0}]},options:{layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{fontColor:'rgb(255, 99, 132)'}},title:{display:!1},tooltips:{enabled:!1,display:!1},scales:{xAxes:[{stacked:!0,display:!1}],yAxes:[{display:!1,stacked:!0}]}}})}function controller(){}angular.module('NxStudio').directive('nxChannel',function(){return{restrict:'E',require:'?ngModel',templateUrl:'/res/layout/directive_channel.html',link:link,controller:['$scope',controller]}})})()}]);