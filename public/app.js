(function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(exports,'__esModule',{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&'object'==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,'default',{enumerable:!0,value:value}),2&mode&&'string'!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default']}:function(){return module};return __webpack_require__.d(getter,'a',getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p='',__webpack_require__(__webpack_require__.s=0)})([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(3),__webpack_require__(4),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(10),__webpack_require__(11),__webpack_require__(12),__webpack_require__(13),__webpack_require__(14),module.exports=__webpack_require__(15)},function(){(function(){angular.module('NxStudio',['ngMaterial','ngMessages','ngRoute']).config(['$routeProvider','$locationProvider','$mdThemingProvider',function($routeProvider,$locationProvider){$routeProvider.when('/',{templateUrl:'/res/layout/view_home.html',controller:'HomeCtrl'}).when('/login',{templateUrl:'/res/layout/view_login.html',controller:'LoginCtrl'}).when('/s/ott/channel',{templateUrl:'/res/layout/view_s_ott_channel.html',controller:'sOttChannelCtrl'}).when('/s/ott/subscribers',{templateUrl:'/res/layout/view_s_ott_subscribers.html',controller:'sOttSubscribersCtrl'}).when('/s/ott/products',{templateUrl:'/res/layout/view_s_ott_products.html',controller:'sOttProductsCtrl'}).when('/s/ott/epg_monitor',{templateUrl:'/res/layout/view_s_ott_epg_monitor.html',controller:'sOttEPGMonitorCtrl'}).when('/s/ott/config',{templateUrl:'/res/layout/view_s_ott_config.html',controller:'sOttConfigCtrl'}).when('/s/user-profile',{templateUrl:'/res/layout/view_s_user_profile.html',controller:'sUserProfileCtrl'}).when('/s/account/settings',{templateUrl:'/res/layout/view_s_account_settings.html',controller:'sAccountSettingsCtrl'}).when('/s/n/a',{templateUrl:'/res/layout/view_n_a.html',controller:'sNACtrl'}),$locationProvider.html5Mode(!0)}]).run(['$rootScope','$location','$window','$NxNav',function($rootScope,$location,$window,$NxNav){$rootScope.$on('$routeChangeSuccess',function(){'/login'==$location.path()?$NxNav.hide():$NxNav.show()})}])})()},function(){(function(){angular.module('NxStudio').factory('$NxApi',['$http','$q','$NxNav',function($http,$q,$NxNav){function getURI(path){return HOST+path}function getAccount(id){return $q(function(success,reject){$http.post(getURI(GET_ACCOUNT),{id:id},{headers:{Authorization:'Bearer '+session.token}}).then(function(response){null===response.data.error?success(response.data.content):reject(response.data.error)}).catch(function(error){reject(error)})})}var HOST='',GET_ACCOUNT='/api/1.0/account/get',session={user:null,token:null},afterLoginCallback=null;return function(){localStorage.getItem('token')&&(session.token=localStorage.getItem('token'))}(),{login:function(email,password){return $q(function(success,reject){function preSuccess(response){session.user=response.content.user,session.data=response.content.session,localStorage.setItem('token',session.data.token);var account=null;getAccount(response.content.user.account).then(function(data){account=data}).catch(function(){}).finally(function(){$NxNav.loadRootLevel(session.user,account),success(response.content.user),afterLoginCallback&&afterLoginCallback()})}void 0===email?session.token?$http.post(getURI('/api/1.0/user/check-session'),{},{headers:{Authorization:'Bearer '+session.token}}).then(function(response){preSuccess(response.data)}).catch(function(error){reject(error)}):reject(new Error('Session data not hosted')):$http.post(getURI('/api/1.0/user/login'),{email:email,password:password}).then(function(response){preSuccess(response.data)}).catch(function(error){reject(error)})})},setAfterLogin:function(callback){afterLoginCallback=callback},getUser:function(){return session.user},getAccount:getAccount,users:function($http,$q){return{create:function(params){return $q(function(resolve,reject){$http.post('/api/0.1/user/create',params).then(function(_ref){var data=_ref.data;resolve(data)}).catch(function(error){reject(error)})})},read:function(params){return $q(function(resolve,reject){$http.post('/api/0.1/user/read',params).then(function(_ref2){var data=_ref2.data;resolve({users:data.users,count:data.count})}).catch(function(error){reject(error)})})},update:function(params){return $q(function(resolve,reject){$http.post('/api/1.0/user/update',{id:params._id,data:params},{headers:{Authorization:'Bearer '+session.token}}).then(function(_ref3){var data=_ref3.data;console.log('update user',data),resolve({})}).catch(function(error){reject(error)})})},delete:function(){return $q(function(){})}}}($http,$q)}}])})()},function(){(function(){angular.module('NxStudio').factory('$NxNav',['$http','$q',function(){var mainBar={hidden:!0},navPanel={hidden:!0};return{hide:function(){mainBar.hidden=!0,navPanel.hidden=!0},show:function(){mainBar.hidden=!1,navPanel.hidden=!1},mainBar:mainBar,navPanel:navPanel,loadRootLevel:function(user,account){navPanel.currentAccount=account,navPanel.currentMap=[{name:'Assets (PC)',items:[{iconURL:'/res/drawable/ic_playlist.svg',name:'Private Cloud',path:'/s/n/a'}]},{name:'Publishing',items:[{iconURL:'/res/drawable/ic_show.svg',name:'Channels',path:'/s/ott/channel'},{iconURL:'/res/drawable/ic_channel.svg',name:'Package',path:'/s/ott/products'}]},{name:'OTT',items:[{iconURL:'/res/drawable/ic_subscribers.svg',name:'Subscribers',path:'/s/ott/subscribers'},{iconURL:'/res/drawable/ic_epg_monitor.svg',name:'EPG Monitor',path:'/s/ott/epg_monitor'},{iconURL:'/res/drawable/ic_ott_project.svg',name:'Config',path:'/s/ott/config'}]},{name:'Account',items:[{iconURL:'/res/drawable/ic_settings.svg',name:'Settings',path:'/s/account/settings'}]}]}}}])})()},function(){(function(){angular.module('NxStudio').controller('HomeCtrl',['$scope','$interval',function(){}])})()},function(){(function(){angular.module('NxStudio').controller('LoginCtrl',['$scope','$NxApi','$NxNav','$location','$mdToast',function($scope,$NxApi,$NxNav,$location,$mdToast){function checkLogin(){''===$scope.loginData.email||''===$scope.loginData.password?toast('Please complete all your login information'):$NxApi.login($scope.loginData.email,$scope.loginData.password).then(function(){window.location='/'}).catch(function(){toast('Invalid email or password. Pleas, check your login information.')})}function toast(msg){$mdToast.show($mdToast.simple().textContent(msg).hideDelay(5e3)).then(function(){}).catch(function(){})}$scope.keyPress=function($event){'Enter'===$event.code&&checkLogin()},$scope.checkLogin=checkLogin,function(){}()}])})()},function(){(function(){angular.module('NxStudio').controller('MainCtrl',['$scope','$NxApi','$NxNav','$location',function($scope,$NxApi,$NxNav,$location){$scope.navPanel=$NxNav.navPanel,$scope.mainBar=$NxNav.mainBar,$scope.userPicture=function(){var user=$NxApi.getUser();return user&&user.photo&&user.photo.url?user.photo.url:'/res/drawable/ph_user.jpg'},$scope.userName=function(){var user=$NxApi.getUser();return user?user.firstName+' '+user.lastName:'...'},$scope.navAction=function(item){$location.path(item.path)},$scope.currentAccount=function(){return $NxNav.navPanel.currentAccount},$scope.logOut=function(){localStorage.clear(),window.location='/login'},$scope.accessProfile=function(){$location.path('/s/user-profile')},function(){$NxApi.login().then(function(){'/login'===$location.path()&&$location.path('/')}).catch(function(e){console.log(2,e),$location.path('/login')})}()}])})()},function(){(function(){angular.module('NxStudio').controller('sAccountSettingsCtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi){$NxApi.setAfterLogin(function(){})}])})()},function(){(function(){angular.module('NxStudio').controller('sNACtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi){$NxApi.setAfterLogin(function(){})}])})()},function(){(function(){angular.module('NxStudio').controller('sOttChannelCtrl',['$scope','$interval',function($scope,$interval){function channel(name){for(var _Mathround=Math.round,publishing=!!(.75>Math.random()),online=!!(.75>Math.random()),c=[],_i=0;15>_i;_i++)c.push({timestamp:Date.now()+1000,concurrency:_Mathround(10+10*Math.random()+10*Math.random()),users:_Mathround(1e3*Math.random())});return{logo:'https://is5-ssl.mzstatic.com/image/thumb/Purple118/v4/e0/4d/be/e04dbe0a-748d-ba79-bae0-1c0b23c937a5/source/512x512bb.jpg',stats:online&&publishing?c:[],name:name,online:online,publishing:publishing}}$scope.channels=[];for(var i=0;50>i;i++)$scope.channels.push(channel('Vivo '+i))}])})()},function(){(function(){angular.module('NxStudio').controller('sOttConfigCtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi){$NxApi.setAfterLogin(function(){})}])})()},function(){(function(){angular.module('NxStudio').controller('sOttEPGMonitorCtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi){$NxApi.setAfterLogin(function(){})}])})()},function(){(function(){angular.module('NxStudio').controller('sOttProductsCtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi){$NxApi.setAfterLogin(function(){})}])})()},function(){(function(){angular.module('NxStudio').controller('sOttSubscribersCtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi){$NxApi.setAfterLogin(function(){})}])})()},function(){function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);'function'==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(function(){angular.module('NxStudio').controller('sUserProfileCtrl',['$scope','$NxApi','$mdToast','$location',function($scope,$NxApi,$mdToast){function init(){var user=$NxApi.getUser();$scope.userData=_objectSpread({},user,{newPassword:'',newPasswordVerify:''})}function verifyPassword(){return!($scope.userData.newPassword!==$scope.userData.newPasswordVerify)||(toast('Checking if password field and verify password fields are equal'),!1)}function checkForm(){var _$scope$userData=$scope.userData,firstName=_$scope$userData.firstName,lastName=_$scope$userData.lastName,newPassword=_$scope$userData.newPassword;return''!==firstName&&''!==lastName&&''!==newPassword?verifyPassword():(toast('The fields cannot be empty'),!1)}function toast(msg){$mdToast.show($mdToast.simple().textContent(msg).hideDelay(5e3)).then(function(){}).catch(function(){})}$scope.updateUser=function(){checkForm()&&($scope.userData.password=$scope.userData.newPassword,$NxApi.users.update($scope.userData).then(function(){toast('The user was update')}).catch(function(error){console.log(error)}))},init(),$NxApi.setAfterLogin(init)}])})()},function(){(function(){function link(scope,element){scope.channel=scope.item;var chart_data=[],char_labels=[];for(var i in scope.channel.stats)chart_data.push(scope.channel.stats[i].concurrency),char_labels.push(scope.channel.stats[i].timestamp);var ctx=element[0].getElementsByTagName('canvas')[0];ctx.height=100;new Chart(ctx,{type:'bar',data:{labels:char_labels,datasets:[{label:'Concurrency',data:chart_data,fill:!0,backgroundColor:'#42516E',borderWidth:0}]},options:{layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{fontColor:'rgb(255, 99, 132)'}},title:{display:!1},tooltips:{enabled:!1,display:!1},scales:{xAxes:[{stacked:!0,display:!1}],yAxes:[{display:!1,stacked:!0}]}}})}function controller(){}angular.module('NxStudio').directive('nxChannel',function(){return{restrict:'E',require:'?ngModel',templateUrl:'/res/layout/directive_channel.html',link:link,controller:['$scope',controller]}})})()}]);